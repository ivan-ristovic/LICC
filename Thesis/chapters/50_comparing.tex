\chapter{Semantičko poređenje opštih AST}
\label{chp:ASTComparing}

Jedna od motivacija svođenja imperativnih jezika na isti nivo apstrakcije (opisane u poglavlju \ref{sec:MyAST}) može biti poređenje kodova pisanih u različitim programskim jezicima. Pritom, s obzirom da su u pitanju stabla, moguće je koristiti razne algoritme za poređenje stabala (ali i grafova uopšte) nad ovakvim apstrakcijama. Pritom, potrebno je i definisati kriterijum poređenja --- moguće je porediti kodove \emph{strukturno}, \emph{semantički} itd. U ovom radu je od značaja semantička ekvivalentnost, koja je u opštem slučaju neodlučiv problem. Međutim, ukoliko se ograničimo samo na strukturno slične kodove, moguće je dobiti smislene rezultate u praksi, nalik na one dobijene u ovom radu. Precizna definicija strukturne sličnosti se obično iskazuje u terminima sličnosti strukture njihovih apstrakcija. Naravno, postoje kodovi koji nisu strukturno ekvivalentni ali su semantički ekvivalentni --- takvi slučajevi se onda neće razmatrati zbog neispunjenosti pretpostavke o strukturnoj sličnosti. 

Pretpostavka strukturne sličnosti je velika i znatno smanjuje broj slučajeva upotrebe takvog upoređivača. Međutim, danas je od velikog značaja verifikacija programa dobijenih sitnim refaktorisanjem već postojećh i verifikovanih programa, često ne menjajući strukturu uopšte (a ako se struktura koda menja onda se to obično radi u mmanjim koracima između kojih i dalje važi pretpostavka strukturne sličnosti kodova u susednim koracima). Slično, prepisivanja programa sa jednog programskog jezika na drugi su jako uobičajena, pa je i u takvim situacijama implicitno prisutna strukturna slučnost, što zavisi od konkretnih programskih jezika ali se u praksi često smanjuje napor tako što se održava struktura koda, barem u inicijalnim verzijama. 

Definicija strukturne sličnosti za potrebe ovog rada će se odnositi na sličnosti u rasporedu blokova naredbi dok će raspored naredbi u blokovima biti nebitan. Na primer, ukoliko se prvi program sastoji od bloka naredbi u kome se nalaze dva druga bloka, očekuje se da i drugi program ima istu organizaciju blokova, pri čemu se pod terminom blok podrazumevaju i složene naredbe koje se sastoje od bloka naredbi u sebi, kao što su definicije funkcija, uslovna grananja, petlje i ostali tipovi složenih naredbi opisanih u \ref{subsec:MyASTStatementNodes}. Pod ovim uslovima, moguće je porediti blokove prvog programa sa odgovarajućim blokovima drugog programa.


\input{chapters/51_symbolics.tex}
\input{chapters/52_compare_algorithm.tex}
